[[extend 'layout.html']]

<style>
[v-cloak] {
     display: none;
}
</style>


<div class="section" id="app">
  <!-- Put here your Vue.js template -->
  <h1 class="title">Sightings</h1>
  <h2 class="subtitle">[[=salutation]]</h2>
  <div>
    <button class="button is-success" @click="add_sighting">Add Sighting</button>
    <input class="input" type="text" v-model="new_species" placeholder="Bird Species">
  </div>
  <table class="table is-fullwidth is-striped">
    <tbody>
      <tr v-for="s in sightings">
        <td><i @click="add_count(s.id)" class="fa fa-plus-square"></i></td>
        <td> {{ s.bird_count }} </td>
        <td> {{ s.bird_species }} </td>
      </tr>
    </tbody>
  </table>
</div>


[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let load_sightings_url = "[[=XML(load_sightings_url)]]";
  let inc_sightings_url = "[[=XML(inc_sightings_url)]]";
  let add_sightings_url = "[[=XML(add_sightings_url)]]";
</script>
<script src="js/index.js"></script>
[[end]]
